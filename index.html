<html>
<head>
<title>CROSSBLOX</title>
<script src="https://d3js.org/d3.v4.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
<style>
h1 {
  font-family: "Oswald", sans-serif;
}
#input{
  padding: 20px;
  float:left;
}
button{
  background-color: #000000;
  color: #FFFFFF;
  text-align: center;
  font-size: 14px;
  border:none;
  display: inline-block;
  padding: 5px 35px;
  margin: 5px 0px;
}
</style>
</head>
<body>
  <h1>CROSSBLOCKS</h1>
  <div id="input" >
    width&nbsp;&nbsp;<input id="w" type="text" value="10" size=4><br/>
    height&nbsp;<input id="h" type="text" value="10" size=4><br/>
    <button onclick="showBlox(w.value, h.value)">Go</button>
  </div>
  <div id="blox" ></div>
  <script>
  var svg = d3.select("#blox").append("svg")
    .attr("height", 500)
    .attr("width", 500);



  function showBlox(w, h){
    svg.selectAll("rect").remove();
    svg.selectAll("line").remove();

    var bloxArr = [];
    for (i=0; i<w; i++){
      for (j=0; j<h; j++){
        var obj = {x: i * 20, y: j*20, c:Math.round(Math.random())};
        bloxArr.push(obj);
      }
    }

    var blox = svg.selectAll("rect").data(bloxArr);
    blox.enter().append("rect")
      .merge(blox)
      .attr("x", function(d){return d.x; })
      .attr("y", function(d){return d.y; })
      .attr("width", 20)
      .attr("height", 20)
      .attr("fill", function(d){
        if(d.c==0){return "#000000";}
        if(d.c==1){return "#FFFFFF";}
      })
      .attr("stroke", "grey");
  }
  showBlox(10,10);
  </script>
</body>
</html>
